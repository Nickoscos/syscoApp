<h1>Définition de la liste de points</h1>

<h2>Liste de points pour une chaufferie</h2>

<!-- Formulaire 1 de configuration de la chaufferie -->
<form method="post" id="nbChaudform">
    <fieldset>
        <legend>Configuration de la chaufferie </legend>
        {% csrf_token %}

        <label>Nombres de chaudières: </label>
        <input name="nbChaudiere" id="nbChaudiere" value="{{ chaufferie.nbChaudiere }}">
        
        <input type="hidden" name="form_type" value="nbChaudform">
        <input type="submit" value="OK">
    </fieldset>
</form>

<!-- Formulaire 2 de configuration de chaque chaudière -->
<form action="" method="post" id="chaudform">
    {% csrf_token %}
    {% for c in chaufferie.Chaudieres %}
    <fieldset>
        <legend>Chaudière {{ c.num }}</legend>

        <label>Nom chaudières: </label>
        <input name="nomChaud{{ c.num }}" id="nomChaud{{ c.num }}" type="text" value="{{ c.nomChaud }}">

        <label>Brûleur présent: </label>
        <input name="nbBruleur{{ c.num }}" id="nbBruleur{{ c.num }}" type="number" value="{{ c.nbBruleur }}">

        <label>Nombre de pompes: </label>
        <input name="nbPpe{{ c.num }}" id="nbPpe{{ c.num }}" type="number" value="{{ c.nbPpe }}">

        <label>Nombre de V2V: </label>
        <input name="nbV2V{{ c.num }}" id="nbV2V{{ c.num }}" type="number" value="{{ c.nbV2V }}">

    </fieldset>
    {% endfor %}
    <input type="hidden" name="form_type" value="chaudform">
    <input type="submit" value="Valider configuration">
</form>

<!-- {% for l in listePts.pts %}
    <p>{{ l.libelle }} => TM: {{ l.TM }}, TS: {{ l.TS }}, TR: {{ l.TR }}, TC: {{ l.TC }}</p>
{% endfor %} -->

<table>
    <thead>
        <tr>
            <th colspan="5">Liste de points</th>
        </tr>
        <tr>
            <th>Libellé</th>
            <th>TM Température</th>
            <th>TS Digital</th>
            <th>TR 0-10V</th>
            <th>TC Digital</th>
        </tr>
    </thead>
    <tbody>
        {% for l in listePts.pts %}
        <tr>
            <td>{{ l.libelle }}</td>
            <td>{{ l.TM }}</td>
            <td>{{ l.TS }}</td>
            <td>{{ l.TR }}</td>
            <td>{{ l.TC }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>