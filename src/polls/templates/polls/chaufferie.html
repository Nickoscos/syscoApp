<h1>Définition de la liste de points</h1>

<h2>Liste de points pour une chaufferie</h2>

<!-- Formulaire 1 de configuration de la chaufferie -->
<form method="post" id="nbChaudform">
    <fieldset>
        <legend>Configuration de la chaufferie </legend>
        {% csrf_token %}

        <label>Nombres de chaudières: </label>
        <input name="nbChaudiere" id="nbChaudiere" type="number" value="{{ chaufferie.nbChaudiere }}">

        <label>Nombres d'équipements divers: </label>
        <input name="nbDivers" id="nbDivers" type="number" value="{{ chaufferie.nbDivers }}">
        
        <input type="hidden" name="form_type" value="nbChaudform">
        <input type="submit" value="OK">
    </fieldset>
</form>

<!-- Formulaire 2 de configuration de chaque chaudière -->
<form action="" method="post" id="chaudform">
    {% csrf_token %}
    {% for c in chaufferie.Chaudieres %}
    <fieldset>
        <legend>Chaudière {{ c.num }}</legend>

        <label>Nom chaudières: </label>
        <input name="nomChaud{{ c.num }}" id="nomChaud{{ c.num }}" type="text" value="{{ c.nomChaud }}">

        <label>Brûleur présent: </label>
        <input name="nbBruleurChaud{{ c.num }}" id="nbBruleurChaud{{ c.num }}" type="number" value="{{ c.nbBruleur }}">

        <label>Nombre de pompes: </label>
        <input name="nbPpeChaud{{ c.num }}" id="nbPpeChaud{{ c.num }}" type="number" value="{{ c.nbPpe }}">

        <label>Nombre de V2V: </label>
        <input name="nbV2VChaud{{ c.num }}" id="nbV2VChaud{{ c.num }}" type="number" value="{{ c.nbV2V }}">

    </fieldset>
    {% endfor %}
    {% for d in chaufferie.Divers %}
    <fieldset>
        <legend>Divers {{ d.num }}</legend>

        <label>Nom équipement: </label>
        <input name="nomDivers{{ d.num }}" id="nomDivers{{ d.num }}" type="text" value="{{ d.nomDivers }}">

        <label>Nombre de TS supplémentaires (hors défaut pompe): </label>
        <input name="nbTSsupDivers{{ d.num }}" id="nbTSsupDivers{{ d.num }}" type="number" value="{{ d.nbTSsup }}">

        <label>Nombre de pompes: </label>
        <input name="nbPpeDivers{{ d.num }}" id="nbPpeDivers{{ d.num }}" type="number" value="{{ d.nbPpe }}">

        <label>Nombre de V2V: </label>
        <input name="nbV2VDivers{{ d.num }}" id="nbV2VDivers{{ d.num }}" type="number" value="{{ d.nbV2V }}">

    </fieldset>
    {% endfor %}
    <input type="hidden" name="form_type" value="chaudform">
    <input type="submit" value="Valider configuration">
</form>

<table>
    <thead>
        <tr>
            <th colspan="5">Liste de points</th>
        </tr>
        <tr>
            <th>Libellé</th>
            <th>TM Température</th>
            <th>TS Digital</th>
            <th>TR 0-10V</th>
            <th>TC Digital</th>
        </tr>
    </thead>
    <tbody>
        {% for l in listePts.pts %}
        <tr>
            <td>{{ l.libelle }}</td>
            <td>{{ l.TM }}</td>
            <td>{{ l.TS }}</td>
            <td>{{ l.TR }}</td>
            <td>{{ l.TC }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>